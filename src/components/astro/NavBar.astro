---
/**
 * Navigation bar component
 * Contains platform branding, auth buttons, and theme selector
 */
import { platformName } from '../../lib/globals';
import ThemeSelector from '../react/ThemeSelector';
import Button from '../react/Button';
import type { User } from '@supabase/supabase-js';

export interface Props {
  user?: User | null;
}

const { user } = Astro.props;
---

<nav
  class="fixed top-0 left-0 right-0 z-50 bg-surface border-b border-surface-border"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Platform Name -->
      <div class="flex-shrink-0">
        <a
          href="/"
          class="text-primary font-bold text-3xl lowercase font-cursive"
        >
          {platformName}
        </a>
      </div>

      <!-- Right side: Auth + Theme -->
      <div class="flex items-center gap-4">
        {
          !user && (
            <Button href="/auth/login" variant="primary" className="py-2">
              Sign in
            </Button>
          )
        }
        <ThemeSelector client:load />
      </div>
    </div>
  </div>
</nav>

<!-- Spacer to prevent content from hiding under fixed nav -->
<div class="h-16"></div>
